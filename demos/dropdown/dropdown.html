<!DOCTYPE html>
<meta charset="UTF-8">
<title>下拉</title>
<style>
	[ng-app] {
		width: 500px;
		margin: 1em;
	}
	.group {
		display: flex;
	}
	.group + .group {
		margin-top: 1em;
	}
	.demos {
		display: flex;
	}
	.demo {
		flex: 1;
		margin: .5em;
	}
  [cc-dropdown-panel] {
    width: 150px;
    padding: .5em;
    border: solid 1px #ccc;
  }
	.hide {
		display: none;
	}
}
</style>

<div ng-app="demoApp">
	<div ng-controller="DemoCtrl as ctrl">
		<h1>下拉</h1>
		<div class="demos">
			<div class="demo">
				<div style="height: 50px;">
					<textarea class="log" style="width: 100%">1号下拉回调日志: </textarea>
				</div>
				<cc-dropdown
						on-dropdown-open="ctrl.log('打开')"
						on-dropdown-close="ctrl.log('关闭')">
					<div>
						<button cc-dropdown-toggle>1号下拉</button>
						<div class="hide" cc-dropdown-panel>
							<div>1号辣条</div>
						</div>
					</div>
				</cc-dropdown>
			</div>
			<div class="demo">
				<div style="height: 50px;">
					<button ng-click="ctrl.setOpenState(!ctrl.isOpen)">2号下拉遥控器</button>
				</div>
				<cc-dropdown auto-close="false" is-open="ctrl.isOpen">
					<div>
						<button cc-dropdown-toggle>2号下拉</button>
						<div class="hide" cc-dropdown-panel>
							<div>2号辣条</div>
						</div>
					</div>
				</cc-dropdown>
			</div>
		</div>
	</div>
</div>

<script src="/components.js"></script>
<script>
	angular.module('demoApp', ['ccms.components'])
		.controller('DemoCtrl', DemoCtrl);

	DemoCtrl.$inject = [];
	function DemoCtrl() {
		this.log = (text) => {
			textAreaEl = document.querySelector('textarea.log');
			textAreaEl.value += text + ',';
		};
		this.isOpen = false;
		this.setOpenState = (openState) => {
			this.isOpen = openState;
		};
	}
</script>

